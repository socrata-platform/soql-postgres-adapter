apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: soql-server-pg
  description: |
    An HTTP server that accepts requests as SoQL queries, rewrites them as SQL
    queries, and sends them to a postgres secondary. Each instance of
    soql-server-pg has a postgres instance associated with it.
  links:
    - title: "Ops Doc"
      url: "https://socrata.atlassian.net/wiki/spaces/ONCALL/pages/2158985270/OpsDoc+-+SODA+Server+aka+NBE"
    - title: "New Backend (NBE) Crash Course"
      url: "https://tylertech.sharepoint.com/:v:/r/sites/DataInsightsDivision/Shared%20Documents/Engineering/NewBackendCrashCourse.mov?csf=1&web=1&e=2NsXHJ"
  annotations:
    github.com/project-slug: 'socrata-platform/soql-postgres-adapter'
    backstage.io/techdocs-entity: system:soql-server-pg
    infrastructure: apps-marathon
spec:
  type: service
  owner: egress
  lifecycle: production
  system: soql-postgres-adapter
